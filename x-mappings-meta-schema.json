{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://quadriga-dk.github.io/quadriga-schema/x-mappings-meta-schema.json",
  "title": "QUADRIGA x-mappings Meta-Schema",
  "description": "Meta-schema for validating x-mappings vocabulary crosswalk annotations in QUADRIGA JSON Schema files. The x-mappings extension documents how schema elements (properties or types) map to standard vocabularies (Dublin Core, DCMI Terms, LRMI, Schema.org, Modalia) using SKOS relationship types.",
  "type": "object",
  "properties": {
    "dc": {
      "oneOf": [
        { "type": "null", "description": "No mapping exists for this vocabulary" },
        { "$ref": "#/$defs/dc-mapping-entry" },
        {
          "type": "array",
          "items": { "$ref": "#/$defs/dc-mapping-entry" },
          "minItems": 1,
          "description": "Array of mappings to Dublin Core properties"
        }
      ],
      "description": "Mapping to Dublin Core Elements (http://purl.org/dc/elements/1.1/)"
    },
    "dcterms": {
      "oneOf": [
        { "type": "null", "description": "No mapping exists for this vocabulary" },
        { "$ref": "#/$defs/dcterms-mapping-entry" },
        {
          "type": "array",
          "items": { "$ref": "#/$defs/dcterms-mapping-entry" },
          "minItems": 1,
          "description": "Array of mappings to DCMI Terms properties"
        }
      ],
      "description": "Mapping to DCMI Metadata Terms (http://purl.org/dc/terms/)"
    },
    "lrmi": {
      "oneOf": [
        { "type": "null", "description": "No mapping exists for this vocabulary" },
        { "$ref": "#/$defs/lrmi-mapping-entry" },
        {
          "type": "array",
          "items": { "$ref": "#/$defs/lrmi-mapping-entry" },
          "minItems": 1,
          "description": "Array of mappings to LRMI properties"
        }
      ],
      "description": "Mapping to Learning Resource Metadata Initiative terms (http://purl.org/dcx/lrmi-terms/)"
    },
    "modalia": {
      "oneOf": [
        { "type": "null", "description": "No mapping exists for this vocabulary" },
        { "$ref": "#/$defs/modalia-mapping-entry" },
        {
          "type": "array",
          "items": { "$ref": "#/$defs/modalia-mapping-entry" },
          "minItems": 1,
          "description": "Array of mappings to Modalia properties"
        }
      ],
      "description": "Mapping to Modalia ontology (https://purl.org/ontology/modalia#)"
    },
    "schema": {
      "oneOf": [
        { "type": "null", "description": "No mapping exists for this vocabulary" },
        { "$ref": "#/$defs/schema-mapping-entry" },
        {
          "type": "array",
          "items": { "$ref": "#/$defs/schema-mapping-entry" },
          "minItems": 1,
          "description": "Array of mappings to Schema.org properties"
        }
      ],
      "description": "Mapping to Schema.org vocabulary (http://schema.org/)"
    },
    "$comment": {
      "type": "string",
      "description": "Optional comment explaining mapping decisions or providing additional context about the x-mappings in this schema"
    }
  },
  "additionalProperties": false,
  "required": ["dc", "dcterms", "lrmi", "modalia", "schema"],
  "$defs": {
    "relation": {
      "type": "string",
      "enum": [
        "skos:exactMatch",
        "skos:closeMatch",
        "skos:broadMatch",
        "skos:narrowMatch",
        "skos:relatedMatch"
      ],
      "description": "SKOS mapping relation type indicating the semantic relationship between the schema element and the target vocabulary term. See https://www.w3.org/TR/skos-reference/#mapping"
    },
    "dc-mapping-entry": {
      "type": "object",
      "description": "A mapping to a Dublin Core term",
      "properties": {
        "relation": { "$ref": "#/$defs/relation" },
        "target": {
          "type": "string",
          "pattern": "^dc:[a-zA-Z]+$",
          "description": "The target vocabulary term in namespace:term format (e.g., 'dc:title')"
        }
      },
      "required": ["relation", "target"],
      "additionalProperties": false
    },
    "dcterms-mapping-entry": {
      "type": "object",
      "description": "A mapping to a DCMI Terms term",
      "properties": {
        "relation": { "$ref": "#/$defs/relation" },
        "target": {
          "type": "string",
          "pattern": "^dcterms:[a-zA-Z]+$",
          "description": "The target vocabulary term in namespace:term format (e.g., 'dcterms:created')"
        }
      },
      "required": ["relation", "target"],
      "additionalProperties": false
    },
    "lrmi-mapping-entry": {
      "type": "object",
      "description": "A mapping to an LRMI term",
      "properties": {
        "relation": { "$ref": "#/$defs/relation" },
        "target": {
          "type": "string",
          "pattern": "^lrmi:[a-zA-Z]+$",
          "description": "The target vocabulary term in namespace:term format (e.g., 'lrmi:educationalLevel')"
        }
      },
      "required": ["relation", "target"],
      "additionalProperties": false
    },
    "modalia-mapping-entry": {
      "type": "object",
      "description": "A mapping to a Modalia term",
      "properties": {
        "relation": { "$ref": "#/$defs/relation" },
        "target": {
          "type": "string",
          "pattern": "^modalia:[a-zA-Z]+$",
          "description": "The target vocabulary term in namespace:term format (e.g., 'modalia:modality')"
        }
      },
      "required": ["relation", "target"],
      "additionalProperties": false
    },
    "schema-mapping-entry": {
      "type": "object",
      "description": "A mapping to a Schema.org term",
      "properties": {
        "relation": { "$ref": "#/$defs/relation" },
        "target": {
          "type": "string",
          "pattern": "^schema:[a-zA-Z]+$",
          "description": "The target vocabulary term in namespace:term format (e.g., 'schema:name')"
        }
      },
      "required": ["relation", "target"],
      "additionalProperties": false
    }
  }
}
